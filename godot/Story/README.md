# Структура сюжета игры

## Файлы сценария

### Главные файлы:
- `master_scenario.txt` - главный файл, описывает структуру
- `СЮЖЕТ.md` - подробное описание сюжета и механик
- `ПЕРСОНАЖИ.md` - описание всех персонажей

### Акты:
1. `prologue.txt` - Пролог (казино "Три топора")
2. `act1_arrival.txt` - Акт 1: Прибытие в Обоянь
3. `act2_infiltration.txt` - Акт 2: Вхождение в доверие
4. `act3_danger.txt` - Акт 3: Опасность раскрытия
5. `endings.txt` - Различные концовки

## Порядок загрузки

1. **Казино** - запускается автоматически из Main.gd
2. **Пролог** - после казино, знакомство с Димой
3. **Акт 1** - прибытие, знакомство с Анной
4. **Акт 2** - бар, завязывание контактов
5. **Акт 3** - встреча с майором Волковым
6. **Финал** - в зависимости от выборов игрока

## Переменные отслеживания

### suspicion_level (0-100)
- Уровень подозрений
- Влияет на концовку
- Увеличивается от подозрительных действий
- Уменьшается от правильного поведения

### friendship_anna (0-100)
- Уровень дружбы с Анной
- Влияет на диалоги

### friendship_dima (0-100)
- Уровень дружбы с Димой
- Влияет на получение информации

### mission_status
- continue - продолжить миссию
- retreat - отступление
- report - связь с центром

## Концовки

1. **Хороший финал** (good_ending)
   - Условие: suspicion_level < 40
   - Миссия выполнена успешно

2. **Средний финал** (neutral_ending)
   - Условие: suspicion_level 40-70
   - Пришлось бежать раньше времени

3. **Плохой финал** (bad_ending)
   - Условие: suspicion_level > 70
   - Арестован ФСБ

4. **Секретный финал** (secret_ending)
   - Условие: особый выбор в акте 3
   - Становление двойным агентом

## Как использовать

### В Main.gd:
```gdscript
scripts = Array[String]([
	"res://Story/prologue.txt",
	"res://Story/act1_arrival.txt",
	"res://Story/act2_infiltration.txt",
	"res://Story/act3_danger.txt",
	"res://Story/endings.txt"
])
```

### В Main.tscn:
Обновить массив scripts в инспекторе, добавив все файлы сценариев.

## Необходимые ресурсы (TODO)

### Фоны:
- casino_room - казино
- oboyan_street - улица Обояни
- administration_office - офис администрации
- hotel_room - номер в гостинице
- local_bar - местный бар
- train_station - железнодорожная станция
- highway - трасса
- fsb_office - кабинет ФСБ
- secret_meeting - секретная встреча

### Персонажи (нужны спрайты):
- marek - главный герой
- anna - Анна Петрова
- dima - Дмитрий Соколов
- volkov - Майор Волков
- serega - Сергей
- stranger - незнакомец

## Советы по созданию

1. Создайте простые фоны (можно использовать фотографии российских городов)
2. Для персонажей можно использовать AI генерацию или найти бесплатные спрайты
3. Добавьте фоновую музыку для атмосферы
4. Звуковые эффекты для казино и диалогов

## Тестирование

Для тестирования отдельных актов можно временно изменить scripts в Main.tscn, оставив только нужный файл.











