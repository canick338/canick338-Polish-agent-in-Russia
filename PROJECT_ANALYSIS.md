# üìã –ê–ù–ê–õ–ò–ó –ü–†–û–ï–ö–¢–ê –ò –¢–ï–°–¢ –ö–ê–¢-–°–¶–ï–ù

## üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ï–ö–¢–ê:

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
godot/
‚îú‚îÄ‚îÄ Main.tscn / Main.gd          # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ –ö–∞–∑–∏–Ω–æ (SlotMachineScene) - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
‚îÇ   ‚îî‚îÄ‚îÄ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ scripts[] - –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∑–∏–Ω–æ
‚îÇ
‚îú‚îÄ‚îÄ Story/                       # –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ main_game_loop.txt      # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ prologue.txt            # –ü—Ä–æ–ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ act1_arrival.txt        # –ê–∫—Ç 1
‚îÇ   ‚îú‚îÄ‚îÄ act2_infiltration.txt   # –ê–∫—Ç 2
‚îÇ   ‚îú‚îÄ‚îÄ act3_danger.txt         # –ê–∫—Ç 3
‚îÇ   ‚îú‚îÄ‚îÄ months/                 # –ú–µ—Å—è—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ interrogations/         # –î–æ–ø—Ä–æ—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ minigames/              # –ú–∏–Ω–∏-–∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ endings/                # –ö–æ–Ω—Ü–æ–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ cutscenes/              # –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ Characters/                 # –ü–µ—Ä—Å–æ–Ω–∞–∂–∏
‚îÇ   ‚îú‚îÄ‚îÄ danila (marek.tres)     # –ì–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π (ID: "danila")
‚îÇ   ‚îú‚îÄ‚îÄ dima, volkov, anna...   # –î—Ä—É–≥–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
‚îÇ   ‚îî‚îÄ‚îÄ Animations/             # –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ Danila/
‚îÇ           ‚îî‚îÄ‚îÄ nervous.ogv      # (–Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å)
‚îÇ
‚îú‚îÄ‚îÄ Cutscenes/                  # –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ç-—Å—Ü–µ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ characterisnervous.ogv  # –¢–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ
‚îÇ
‚îú‚îÄ‚îÄ Casino/                     # –°–ª–æ—Ç-–º–∞—à–∏–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ SlotMachineScene.tscn
‚îÇ
‚îî‚îÄ‚îÄ Parser/                     # –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
    ‚îú‚îÄ‚îÄ SceneLexer.gd           # –õ–µ–∫—Å–µ—Ä (—Ç–æ–∫–µ–Ω—ã)
    ‚îú‚îÄ‚îÄ SceneParser.gd          # –ü–∞—Ä—Å–µ—Ä (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
    ‚îî‚îÄ‚îÄ SceneTranspiler.gd      # –¢—Ä–∞–Ω—Å–ø–∞–π–ª–µ—Ä (–≤ –¥–∏–∞–ª–æ–≥–∏)
```

### –¢–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –∏–≥—Ä—ã:
1. **Main.gd** ‚Üí `show_casino()` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∑–∏–Ω–æ
2. –ü–æ—Å–ª–µ –∫–∞–∑–∏–Ω–æ ‚Üí `start_story()` - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ `Main.tscn` ‚Üí `scripts` –º–∞—Å—Å–∏–≤
4. –ö–∞–∂–¥—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–∞—Ä—Å–∏—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `ScenePlayer`

### –°–∏—Å—Ç–µ–º–∞ –∫–∞—Ç-—Å—Ü–µ–Ω:
- ‚úÖ **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ:** –ö–æ–º–∞–Ω–¥–∞ `cutscene video_name`
- ‚úÖ **–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `danila nervous`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø–∞—Ä—Å–µ—Ä –∏ ScenePlayer

---

## ‚úÖ –ß–¢–û –ë–´–õ–û –î–û–ë–ê–í–õ–ï–ù–û:

### 1. –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: `test_cutscene_in_dialogue.txt`

**–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:**
- ‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ç-—Å—Ü–µ–Ω—ã –≤ –¥–∏–∞–ª–æ–≥–µ
- ‚úÖ –û–±—ã—á–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å–æ —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏ –ø–æ—Ä—Ç—Ä–µ—Ç–∞–º–∏
- ‚úÖ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ –≤–∏–¥–µ–æ
- ‚úÖ –ö–∞—Ç-—Å—Ü–µ–Ω—ã –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –¥–∏–∞–ª–æ–≥–∞
- ‚úÖ –í—ã–±–æ—Ä—ã —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- ‚úÖ –î–∏–∞–ª–æ–≥–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ Main.tscn

**–î–æ–±–∞–≤–ª–µ–Ω –≤ –Ω–∞—á–∞–ª–æ scripts:**
```gdscript
scripts = Array[String]([
    "res://Story/test_cutscene_in_dialogue.txt",  # ‚Üê –¢–ï–°–¢ (–ø–µ—Ä–≤—ã–π)
    "res://Story/main_game_loop.txt"              # ‚Üê –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞
])
```

**–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:**
1. –ö–∞–∑–∏–Ω–æ ‚Üí –¢–µ—Å—Ç –∫–∞—Ç-—Å—Ü–µ–Ω ‚Üí –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞

---

## üéÆ –ö–ê–ö –¢–ï–°–¢–ò–†–û–í–ê–¢–¨:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –≤ Godot
2. –ü—Ä–æ–π–¥–∏—Ç–µ –∫–∞–∑–∏–Ω–æ
3. –£–≤–∏–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –∫–∞—Ç-—Å—Ü–µ–Ω–∞–º–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ 8 —Ç–µ—Å—Ç–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏)
–í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ `Main.tscn`:
```gdscript
scripts = Array[String](["res://Story/test_cutscene_in_dialogue.txt"])
```

---

## üìù –ß–¢–û –ü–†–û–í–ï–†–Ø–ï–¢ –¢–ï–°–¢:

### –¢–µ—Å—Ç 1: –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –∫–∞—Ç-—Å—Ü–µ–Ω–∞
- ‚úÖ –í–∏–¥–µ–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
- ‚úÖ –î–∏–∞–ª–æ–≥ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –ü–æ—Å–ª–µ –≤–∏–¥–µ–æ –¥–∏–∞–ª–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

### –¢–µ—Å—Ç 2: –û–±—ã—á–Ω—ã–π –¥–∏–∞–ª–æ–≥
- ‚úÖ –°—Ç–∞—Ç–∏—á–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–∂ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –≤—Ö–æ–¥–∞

### –¢–µ—Å—Ç 3: –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç
- ‚úÖ –ï—Å–ª–∏ `nervous.ogv` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è
- ‚úÖ –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è

### –¢–µ—Å—Ç 4: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–Ω—ã–º –∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ

### –¢–µ—Å—Ç 5: –î–≤–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- ‚úÖ –û–±–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è —É –æ–¥–Ω–æ–≥–æ, —Å—Ç–∞—Ç–∏–∫ —É –¥—Ä—É–≥–æ–≥–æ

### –¢–µ—Å—Ç 6: –ö–∞—Ç-—Å—Ü–µ–Ω–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ
- ‚úÖ –ö–∞—Ç-—Å—Ü–µ–Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥
- ‚úÖ –ü–æ—Å–ª–µ –∫–∞—Ç-—Å—Ü–µ–Ω—ã –¥–∏–∞–ª–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

### –¢–µ—Å—Ç 7: –ö–∞—Ç-—Å—Ü–µ–Ω–∞ –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–∞
- ‚è≥ (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∞)

### –¢–µ—Å—Ç 8: –í—ã–±–æ—Ä —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ –í—ã–±–æ—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ —ç–º–æ—Ü–∏—é –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç-—Å—Ü–µ–Ω—É

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ê:

### –ß—Ç–æ–±—ã —É–±—Ä–∞—Ç—å —Ç–µ—Å—Ç –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä—ã:

–í `Main.tscn` —É–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:
```gdscript
scripts = Array[String](["res://Story/main_game_loop.txt"])
```

### –ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ—Å—Ç:

–û—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å - —Ç–µ—Å—Ç –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –∫–∞–∑–∏–Ω–æ.

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ç-—Å—Ü–µ–Ω—ã
- –û–±—ã—á–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
- –ü–∞—Ä—Å–µ—Ä –∏ —Ç—Ä–∞–Ω—Å–ø–∞–π–ª–µ—Ä

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π:
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `characterisnervous.ogv` ‚Üí `Danila/nervous.ogv`
- (–î–ª—è —Ç–µ—Å—Ç–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤)

### ‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:
- –ë–æ–ª—å—à–µ –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ë–æ–ª—å—à–µ –∫–∞—Ç-—Å—Ü–µ–Ω –¥–ª—è —Å—é–∂–µ—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
2. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å** —Ñ–∞–π–ª –¥–ª—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤
3. **–°–æ–∑–¥–∞—Ç—å** –±–æ–ª—å—à–µ –∫–∞—Ç-—Å—Ü–µ–Ω –¥–ª—è —Å—é–∂–µ—Ç–∞
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å** –∫–∞—Ç-—Å—Ü–µ–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
   - `prologue.txt` - –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ
   - `act1_arrival.txt` - –ø—Ä–∏–±—ã—Ç–∏–µ –ø–æ–µ–∑–¥–∞
   - `interrogations/` - –∫–æ–º–Ω–∞—Ç–∞ –¥–æ–ø—Ä–æ—Å–∞
   - `endings/` - –∫–æ–Ω—Ü–æ–≤–∫–∏

---

## üìö –§–ê–ô–õ–´:

- ‚úÖ `godot/Story/test_cutscene_in_dialogue.txt` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
- ‚úÖ `godot/Main.tscn` - –æ–±–Ω–æ–≤–ª—ë–Ω (–¥–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç)
- ‚úÖ `PROJECT_ANALYSIS.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üéâ –ì–û–¢–û–í–û!

–¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–æ–±–∞–≤–ª–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á—ë–Ω!
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∫–∞—Ç-—Å—Ü–µ–Ω –≤ –¥–∏–∞–ª–æ–≥–∞—Ö!










