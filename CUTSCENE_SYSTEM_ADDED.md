# üé¨ –°–ò–°–¢–ï–ú–ê –ö–ê–¢-–°–¶–ï–ù –î–û–ë–ê–í–õ–ï–ù–ê!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. –ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `cutscene`
–¢–µ–ø–µ—Ä—å –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å:
```
cutscene video_name
cutscene video_name true false
cutscene res://Cutscenes/my_video.ogv
```

### 2. CutscenePlayer (–ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–æ)
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–ø—É—Å–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å—é–∂–µ—Ç–∞

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞—Ä—Å–µ—Ä–æ–º
- `SceneLexer.gd` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ CUTSCENE
- `SceneTranspiler.gd` - –¥–æ–±–∞–≤–ª–µ–Ω CutsceneCommandNode
- `ScenePlayer.gd` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ _play_cutscene()

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `CUTSCENE_GUIDE.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≤–∏–¥–µ–æ
- `Story/cutscenes/CUTSCENE_USAGE.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `Cutscenes/README.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤

---

## üéÆ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å/–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ
```bash
ffmpeg -i my_video.mp4 -c:v libtheora -qscale:v 7 -c:a libvorbis -qscale:a 5 my_video.ogv
```

### –®–∞–≥ 2: –ü–æ–º–µ—Å—Ç–∏—Ç—å –≤ –ø–∞–ø–∫—É
```
godot/Cutscenes/my_video.ogv
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏
```
cutscene my_video
danila "–û—Ç–ª–∏—á–Ω–∞—è –∫–∞—Ç-—Å—Ü–µ–Ω–∞!"
```

---

## üìπ –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–ú–´–ï –§–û–†–ú–ê–¢–´:

‚úÖ **`.ogv`** (Ogg Theora) - –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
‚úÖ **`.webm`** (VP8/VP9)
‚ùå `.mp4` - –ù–ï –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢–°–Ø (–Ω—É–∂–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)

---

## üéØ –ü–†–ò–ú–ï–†–´ –î–õ–Ø –í–ê–®–ï–ô –ò–ì–†–´:

### –ü—Ä–æ–ª–æ–≥ - –ö–∞–∑–∏–Ω–æ:
```
cutscene casino_intro
"–¢—Ä–∏ —Å–µ–º–µ—Ä–∫–∏! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!"
```

### –ü—Ä–∏–±—ã—Ç–∏–µ –≤ –û–±–æ—è–Ω—å:
```
cutscene arrival_train
danila "–ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ —è –∑–¥–µ—Å—å..."
```

### –î–æ–ø—Ä–æ—Å:
```
cutscene interrogation_room
volkov "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ..."
```

### –ö–æ–Ω—Ü–æ–≤–∫–∏:
```
if suspicion >= 80:
    cutscene ending_arrested false
    "–ö–û–ù–ï–¶ - –í—ã –∞—Ä–µ—Å—Ç–æ–≤–∞–Ω—ã"
elif stealth >= 70:
    cutscene ending_hero false
    "–ö–û–ù–ï–¶ - –í—ã –≥–µ—Ä–æ–π"
```

---

## üìä –°–ò–ù–¢–ê–ö–°–ò–°:

```
cutscene <—Ñ–∞–π–ª> [–ø—Ä–æ–ø—É—Å–∫] [–∞–≤—Ç–æ–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `—Ñ–∞–π–ª` - –∏–º—è –∏–ª–∏ –ø—É—Ç—å –∫ –≤–∏–¥–µ–æ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `–ø—Ä–æ–ø—É—Å–∫` - true/false, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)
- `–∞–≤—Ç–æ–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ` - true/false, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ—Å–ª–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

**–ü—Ä–∏–º–µ—Ä—ã:**
```
cutscene intro                    # res://Cutscenes/intro.ogv, –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
cutscene boss_fight false         # –Ω–µ–ª—å–∑—è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
cutscene ending true false        # –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –ù–ï –∞–≤—Ç–æ–ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å
```

---

## üõ†Ô∏è –§–ê–ô–õ–´ –ò–ó–ú–ï–ù–ï–ù–´:

1. `godot/Parser/SceneLexer.gd` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞
2. `godot/Parser/SceneTranspiler.gd` - —Ç—Ä–∞–Ω—Å–ø–∞–π–ª–µ—Ä –∫–æ–º–∞–Ω–¥—ã
3. `godot/ScenePlayer.gd` - –ª–æ–≥–∏–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
4. `godot/Cutscenes/CutscenePlayer.gd` - –Ω–æ–≤—ã–π –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å
5. `godot/Cutscenes/CutscenePlayer.tscn` - —Å—Ü–µ–Ω–∞ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—è

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø:

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `godot/CUTSCENE_GUIDE.md`
–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: `godot/Story/cutscenes/CUTSCENE_USAGE.md`

---

## üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.
–ü—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–π—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `cutscene`!










